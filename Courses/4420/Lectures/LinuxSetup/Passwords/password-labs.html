<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Labs on Passwords</title>
<!-- 2018-10-19 Fri 00:18 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Prabhaker Mateti" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<style> P,li {text-align: justify} code {color: brown;} @media screen {BODY {margin: 10%} }</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="../"> UP </a>
 |
 <a accesskey="H" href="../../Top/index.html"> HOME </a>
</div><div id="preamble" class="status">
<a href="../../"> ../../</a>
</div>
<div id="content">
<h1 class="title">Labs on Passwords</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Educational Objectives</a></li>
<li><a href="#sec-2">2. Background: Required Reading</a></li>
<li><a href="#sec-3">3. Lab: Cracking Specific Password Hashes</a>
<ul>
<li><a href="#sec-3-1">3.1. SubLab #1 Crack the Three User Names and Passwords</a></li>
<li><a href="#sec-3-2">3.2. SubLab #2 Example #2 from a Real Linux Machine Setup</a></li>
<li><a href="#sec-3-3">3.3. SubLab #3 Example #3: SHA512 Password Hashes</a></li>
</ul>
</li>
<li><a href="#sec-4">4. Lab: Password Cracking Locally</a></li>
<li><a href="#sec-5">5. Lab: Password Cracking Using Cloud Services</a></li>
<li><a href="#sec-6">6. Lab: Password Rainbow Tables</a>
<ul>
<li><a href="#sec-6-1">6.1. Objectives</a></li>
<li><a href="#sec-6-2">6.2. Background</a></li>
<li><a href="#sec-6-3">6.3. Programs</a></li>
<li><a href="#sec-6-4">6.4. Task</a></li>
</ul>
</li>
<li><a href="#sec-7">7. Lab: Design an Uncrackable Password</a></li>
<li><a href="#sec-8">8. End</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Educational Objectives</h2>
<div class="outline-text-2" id="text-1">
<p>
Objectives: To help you gauge the level of security offered by the
typical password systems.  The goal is to crack as many passwords as
possible in the inputs described below.  This can take hours on fast
laptops/ desktops in 2017, if you do not take advantage of multiple
cores or GPU.  Our goal in cloud computing is to crack as fast as
possible.  
</p>

<p>
Students should be able to
</p>

<ol class="org-ol">
<li>Recognize the limitations of the typical password schemes
</li>
<li>Sketch the cracking algorithms, and use cracking tools
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Background: Required Reading</h2>
<div class="outline-text-2" id="text-2">
<ol class="org-ol">
<li>Password Cracking Ideas
</li>
<li>Some Well Known Cracking Tools
</li>

<li><a href="./Word-Lists">./Word-Lists</a> and Hash-Dumps
</li>

<li>The following are readily available "word lists" in the context of
choosing good passwords.  This is obviously not an exhaustive
list.  Note also that some files are populated at multiple sites.
</li>

<li><a href="https://github.com/danielmiessler/SecLists/">https://github.com/danielmiessler/SecLists/</a> is the security
tester's companion. It is a collection of multiple types of lists
used during security assessments. List types include usernames,
passwords, URLs, sensitive data grep strings, fuzzing payloads, and
many more.  It includes a collection of password lists.  It
includes the RockYou lists.
</li>

<li><code>/usr/share/wordlists/*</code> of the Kali Linux distribution.
</li>

<li><a href="http://contest-2010.korelogic.com/wordlists.html">http://contest-2010.korelogic.com/wordlists.html</a> wordlists used in
"Crack Me If You Can" contest of DEFCON 2010.
</li>

<li><a href="https://wiki.skullsecurity.org/Passwords">https://wiki.skullsecurity.org/Passwords</a> Passwords that were leaked or stolen from sites. 
</li>

<li><a href="http://gdataonline.com/downloads/">http://gdataonline.com/downloads/</a>
</li>

<li><a href="http://www.justpain.com/ut_maps/wordlists/">http://www.justpain.com/ut_maps/wordlists/</a>
</li>
<li><a href="http://weakpass.com/lists">http://weakpass.com/lists</a>
</li>
<li><a href="http://www.adeptus-mechanicus.com/codex/hashpass/hashpass.php">http://www.adeptus-mechanicus.com/codex/hashpass/hashpass.php</a>
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Lab: Cracking Specific Password Hashes</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> SubLab #1 Crack the Three User Names and Passwords</h3>
<div class="outline-text-3" id="text-3-1">
<ol class="org-ol">
<li>MD5 examples shown from machine M1 in the <code>/etc/shadow</code> file
format.  Just three entries.

<div class="org-src-container">

<pre class="src src-text">student:$1$l67ia9iK$x80ABcEExHYMVpMx.Bls5.:13749:0:99999:7:::
jsmith:$1$Y4.kjoQ2$GIuEZcnQVPYi7RPWrQRTE.:14036:0:99999:7:::
jtripper:$1$WH2SxqnX$rL0J6JYshB3wl6yBm90Bd1:13887:0:99999:7:::
</pre>
</div>
</li>

<li>Crack the passwords of student, jsmith, and jtripper.
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> SubLab #2 Example #2 from a Real Linux Machine Setup</h3>
<div class="outline-text-3" id="text-3-2">
<ol class="org-ol">
<li><a href="./Linux/etc/830-2009-shadow.txt">./Linux/etc/830-2009-shadow.txt</a> file is taken from lab accounts from a previous term.
Uses salted MD5.  User names are of the form CEG830nn.
</li>

<li>Crack the passwords of CEG830nn.
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> SubLab #3 Example #3: SHA512 Password Hashes</h3>
<div class="outline-text-3" id="text-3-3">
<ol class="org-ol">
<li>Since MD5 is considered "broken", Linux distributions have moved to
using salted SHA512 password hashes (crypt id 6, i.e., <code>$6$</code>),
which are several orders of magnitude more difficult to brute-force
or generate rainbow tables for.  Example lines from machine M2:
<div class="org-src-container">

<pre class="src src-text">root:$6$vPVevCXV$Pj2yIpQhprsMifm7i4X7F6IioqAQxJCyrhNjH4zK0fGYUc2gWjGJjobIwRp7wT5spTlLEywDW0ySmgB0XkVBs/:15401:0:99999:7:::
ceg442091:$6$03bKILGu$pgsg2fOTpYyhcPGSaJZfbVEFPgyle5YtGR1wY2ChuxSv7C4lEfdES26qAXa9UHqt04ap5v0AXF0DuWMXdeaWY0:15295:0:99999:7:::
ceg235013:$6$T6Yj4GYP$MjioJv3VqkU5WOx5gruV2fSHgitkSHMLvSx5M.KL5JCDsVIVKqf3uo0DGTV.CLar0dW4eV5VYTzbfSi9rA1g8/:15398:0:99999:7:::
</pre>
</div>
</li>

<li>The lines below are the same as above but split into muliple lines
for readability:

<div class="org-src-container">

<pre class="src src-text">root:$6$vPVevCXV$Pj2yIpQhprsMifm7i4X7F6IioqAQxJCyrhNjH4zK0fG
YUc2gWjGJjobIwRp7wT5spTlLEywDW0ySmgB0XkVBs/:15401:0:99999:7:::

ceg442091:$6$03bKILGu$pgsg2fOTpYyhcPGSaJZfbVEFPgyle5YtGR1wY2Ch
uxSv7C4lEfdES26qAXa9UHqt04ap5v0AXF0DuWMXdeaWY0:15295:0:99999:7:::

ceg235013:$6$T6Yj4GYP$MjioJv3VqkU5WOx5gruV2fSHgitkSHMLvSx5M.KL5JCDs
VIVKqf3uo0DGTV.CLar0dW4eV5VYTzbfSi9rA1g8/:15398:0:99999:7:::
</pre>
</div>
</li>

<li>Crack the passwords of root, ceg442091, ceg235013.
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Lab: Password Cracking Locally</h2>
<div class="outline-text-2" id="text-4">
<ol class="org-ol">
<li>Crack the encoded passwords of (i) <a href="./etc-shadow.txt">/etc/shadow</a> file, taken from our
OSIS Lab accounts from a previous term, (ii) MD5 examples shown
from machine M1 and (iii) SHA512 examples shown from machine M2.
See how many pass words the two programs can crack and how
fast. This can take hours.
</li>

<li>You may want to construct your own examples of the passwd and
shadow files, where you know the passwords you used.
</li>

<li>Tabulate the results.
</li>

<li>Design a password that is not crackable by any of the tools (at
least the two you used).
</li>

<li>Record how many pass words can be cracked and how fast.  Try (i)
John the Ripper and (ii) one other of your own choice.
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Lab: Password Cracking Using Cloud Services</h2>
<div class="outline-text-2" id="text-5">
<p>
Objectives: Gauge the computational power of your (i) Android device
versus (ii) laptop/desktop versus (iii) cloud computing.  Consider the
following Java programs.  Build/ revise them so that they are usable
on (i), (ii) and (iii).
</p>

<ol class="org-ol">
<li><a href="http://blog.nullmode.com/blog/2015/03/22/36-core-aws-john/">http://blog.nullmode.com/blog/2015/03/22/36-core-aws-john/</a> "To get
hashcat and john up and running with multi-core is a little fiddly
(it’s not download and crack) &#x2026;"
</li>

<li><a href="https://hashcat.net/hashcat/">https://hashcat.net/hashcat/</a>
</li>

<li>Past collections of broken password databases
</li>

<li><a href="http://blog.nullmode.com/blog/2015/03/22/36-core-aws-john/">http://blog.nullmode.com/blog/2015/03/22/36-core-aws-john/</a> "To get
hashcat and john up and running with multi-core is a little fiddly
(it’s not download and crack) &#x2026;"
</li>

<li><a href="https://hashcat.net/hashcat/">https://hashcat.net/hashcat/</a>
</li>

<li><a href="http://blog.nullmode.com/blog/2015/03/22/36-core-aws-john/">http://blog.nullmode.com/blog/2015/03/22/36-core-aws-john/</a> 2015
Password Cracking With Amazon Web Services
</li>
</ol>
</div>
</div>


<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Lab: Password Rainbow Tables</h2>
<div class="outline-text-2" id="text-6">
</div><div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1"><span class="section-number-3">6.1</span> Objectives</h3>
<div class="outline-text-3" id="text-6-1">
<p>
To help you gauge the computational power of your (i)
Android device, versus (ii) laptop/desktop, versus (iii) cloud
computing.  Consider the following Java programs.  Build/ revise them
so that they are usable on (i), (ii) and (iii).
</p>
</div>
</div>

<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2"><span class="section-number-3">6.2</span> Background</h3>
<div class="outline-text-3" id="text-6-2">
<ol class="org-ol">
<li>Required Reading: <a href="./rainbow-tables.html">./rainbow-tables.html</a>
</li>
<li>There are many free or commercial collections of rainbow tables.
</li>
<li>We wish to build our own both to gain experience and to specialize
the table.
</li>

<li>We should have an understanding of these tables.  I find many
explanations unsatisfactory, including the Wikipedia
one. <a href="http://kestas.kuliukas.com/RainbowTables/">http://kestas.kuliukas.com/RainbowTables/</a> is a better
explanation among what I have seen.  Yet, its diagrams, and
sentences are misleading.
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-6-3" class="outline-3">
<h3 id="sec-6-3"><span class="section-number-3">6.3</span> Programs</h3>
<div class="outline-text-3" id="text-6-3">
<ol class="org-ol">
<li><a href="https://github.com/lakka/MD5Crack">https://github.com/lakka/MD5Crack</a> This Java program "cracks
MD5-hashes and generates rainbow tables.  The program also has a
hash table implementation."  TBD sloccount
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-6-4" class="outline-3">
<h3 id="sec-6-4"><span class="section-number-3">6.4</span> Task</h3>
<div class="outline-text-3" id="text-6-4">
<ol class="org-ol">
<li>Build a rainbow table for a word list of your choice.
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Lab: Design an Uncrackable Password</h2>
<div class="outline-text-2" id="text-7">
<ol class="org-ol">
<li>Design a password that is not crackable.  Do your best.  Defend
your design.
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> End</h2>
<div class="outline-text-2" id="text-8">
</div>
</div>
</div>
<div id="postamble" class="status">
<hr size=1>Copyright &copy; 2018 <a href="http://www.wright.edu/~pmateti">www.wright.edu/~pmateti</a> &bull; 2018-10-18
</div>
</body>
</html>
