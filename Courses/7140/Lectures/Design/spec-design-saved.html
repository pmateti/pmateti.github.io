<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
lang="en" xml:lang="en">
<head>
<title>Examples of Spec/Design</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2013-02-22 19:30:20 EST"/>
<meta name="author" content="Prabhaker Mateti"/>
<meta name="description" content="CS7140 Software Engineering Lecture"/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
@media screen {BODY {margin: 12%;}}
</style>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<div id="org-div-home-and-up" style="text-align:right;font-size:70%;white-space:nowrap;">
 <a accesskey="h" href="../../Lectures"> UP </a>
 |
 <a accesskey="H" href="../../"> HOME </a>
</div>

<h1 class="title">Examples of Spec/Design</h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Examples of Spec/Design </a></li>
<li><a href="#sec-2">2 JavaCard </a></li>
<li><a href="#sec-3">3 Knuth's Common Words Problem </a>
<ul>
<li><a href="#sec-3.1">3.1 Common Words Problem Spec </a></li>
<li><a href="#sec-3.2">3.2 Common Words Solution Design </a></li>
<li><a href="#sec-3.3">3.3 N-ary Trees to Hash Tries </a></li>
</ul>
</li>
<li><a href="#sec-4">4 Spec + Design of a Programmer's Editor </a>
<ul>
<li><a href="#sec-4.1">4.1 A Text Editor </a></li>
<li><a href="#sec-4.2">4.2 A Programmer's Editor </a></li>
<li><a href="#sec-4.3">4.3 Text Editor Passive Entitites </a>
<ul>
<li><a href="#sec-4.3.1">4.3.1 Files </a></li>
<li><a href="#sec-4.3.2">4.3.2 Edit Buffers </a></li>
<li><a href="#sec-4.3.3">4.3.3 Clip Registers </a></li>
<li><a href="#sec-4.3.4">4.3.4 View </a></li>
<li><a href="#sec-4.3.5">4.3.5 Markers </a></li>
</ul>
</li>
<li><a href="#sec-4.4">4.4 Folding </a></li>
<li><a href="#sec-4.5">4.5 Plugins </a></li>
<li><a href="#sec-4.6">4.6 Text Ed Operations </a></li>
<li><a href="#sec-4.7">4.7 Programmer's Editor Passive Entitites? </a></li>
<li><a href="#sec-4.8">4.8 Engine v UI-binding ("Key" Bindings) </a></li>
<li><a href="#sec-4.9">4.9 Help </a></li>
<li><a href="#sec-4.10">4.10 Syntax Awareness </a></li>
<li><a href="#sec-4.11">4.11 Features that we get as a result of using certain API </a></li>
</ul>
</li>
<li><a href="#sec-5">5 Design Document </a></li>
<li><a href="#sec-6">6 Tech Report "Format" </a></li>
<li><a href="#sec-7">7 Misc </a></li>
<li><a href="#sec-8">8 Specific to CS7140 jEdit Project </a>
<ul>
<li><a href="#sec-8.1">8.1 Some Details </a></li>
<li><a href="#sec-8.2">8.2 New Plugin Suggestions </a>
<ul>
<li><a href="#sec-8.2.1">8.2.1 Formal Methods Reminders </a></li>
<li><a href="#sec-8.2.2">8.2.2 C++ to Java conversion </a></li>
<li><a href="#sec-8.2.3">8.2.3 Java to C++ conversion </a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Examples of Spec/Design </h2>
<div class="outline-text-2" id="text-1">

<ol>
<li>
Others and Bertrand Meyer, "How Specifications Change and Why You
Should Care" <a href="http://arxiv.org/pdf/1211.4775v2.pdf">PDF</a> Jan 2013. Required Reading.
</li>
<li>
In our lectures so far
<ol>
<li>
Telegram
</li>
<li>
Tabulate Equations
</li>
<li>
Condense the List of Numbers
</li>
<li>
pretty printing
</li>
<li>
Worms
</li>
</ol>
</li>
<li>
Knuth's Common Words Problem
</li>
<li>
jEdit

</li>
</ol>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> JavaCard </h2>
<div class="outline-text-2" id="text-2">

<ol>
<li>
JavaCard is a subset of Java chosen for small memory, weak-CPU, embedded
devices.  Widely used in SIM cards and ATM cards.
</li>
<li>
<a href="http://code.google.com/p/jcml/">http://code.google.com/p/jcml/</a>  Java Card Specification Language based on JML
</li>
<li>
<a href="http://www.javacardforum.org/">http://www.javacardforum.org/</a>
</li>
<li>
Erik Poll, Joachim van den Berg, Bart Jacobs, 
"Specification of the JavaCard API in JML"
<a href="http://cs.ru.nl/E.Poll/papers/cardis00.pdf">http://cs.ru.nl/E.Poll/papers/cardis00.pdf</a>  Required Reading??
</li>
<li>
Nestor Catano, Tim Wahls, "Executing JML Specifications of Java
Card Applications: A Case Study", PDF Link TODO, 2009.  Required
Reading??

</li>
</ol>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Knuth's Common Words Problem </h2>
<div class="outline-text-2" id="text-3">

<ol>
<li>
Donald E. Knuth, "A Solution to the Common Words Problem",
Communications of the ACM, 1986,
<a href="../../Notes/cwp-knuth-cacm-1986.pdf">../../Notes/cwp-knuth-cacm-1986.pdf</a>, Required Reading.
</li>
<li>
"Given a file of text, and a number k, print the k most common words."
</li>
<li>
Used as an example of Literate Programming
</li>
<li>
Criticized as an example of software development
</li>
<li>
Our interest here:  How to describe its spec + design?
<ol>
<li>
Let us not question: Why do we need such a complex design?
</li>
<li>
Instead: How do we describe this design?
</li>
<li>
Instead: Did Knuth describe the design or the implementation?
</li>
<li>
How do we progress from a simple "set of words" to n-ary hash trie?
</li>
</ol>
</li>
</ol>

</div>

<div id="outline-container-3.1" class="outline-3">
<h3 id="sec-3.1"><span class="section-number-3">3.1</span> Common Words Problem Spec </h3>
<div class="outline-text-3" id="text-3.1">

<ol>
<li>
Defs of text, words, &hellip;?
</li>
<li>
Def of "common" word?
</li>
<li>
"Most Common"?
</li>
</ol>
</div>

</div>

<div id="outline-container-3.2" class="outline-3">
<h3 id="sec-3.2"><span class="section-number-3">3.2</span> Common Words Solution Design </h3>
<div class="outline-text-3" id="text-3.2">

<ol>
<li>
Collection of (Word, nOccurs)
<ol>
<li>
Sorted on the spelling
</li>
<li>
n-ary trees, tries, â€¦
</li>
</ol>
</li>
<li>
Sort the Collection based on nOccurs
<ol>
<li>
Destructive Traversals

</li>
</ol>
</li>
</ol>
</div>

</div>

<div id="outline-container-3.3" class="outline-3">
<h3 id="sec-3.3"><span class="section-number-3">3.3</span> N-ary Trees to Hash Tries </h3>
<div class="outline-text-3" id="text-3.3">

<ol>
<li>
Design Description of CWP needs several levels.
</li>
<li>
Collection of (Word, nOccurs) as an n-ary tree: <a href="http:../../Notes/cwp-nary-tree.pdf">cwp-nary-tree.pdf</a>
<ol>
<li>
A Prefix of a Word is a Word?
</li>
</ol>
</li>
<li>
A more space efficient trie: <a href="http:../../Notes/cwp-plain-trie.pdf">cwp-plain-trie.pdf</a>
</li>
<li>
One more improvement: <a href="http:../../Notes/cwp-ringed-trie.pdf">cwp-ringed-trie.pdf</a>
</li>
<li>
In the absence of pointers: <a href="http:../../Notes/cwp-hash-trie.pdf">cwp-hash-trie.pdf</a>


</li>
</ol>
</div>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Spec + Design of a Programmer's Editor </h2>
<div class="outline-text-2" id="text-4">


</div>

<div id="outline-container-4.1" class="outline-3">
<h3 id="sec-4.1"><span class="section-number-3">4.1</span> A Text Editor </h3>
<div class="outline-text-3" id="text-4.1">

<ol>
<li>
Can we state criteria so that a given program can be called a "text
editor"?
</li>
<li>
string search/replace
</li>
<li>
selection of text
</li>
<li>
cut/copy and paste
</li>
<li>
text fill into para
</li>
<li>
text folding
</li>
<li>
word wrapping
</li>
<li>
undo, redo
</li>
<li>
Language specific: spell check, suggested words
</li>
<li>
kbd/mouse/&hellip; macros

</li>
</ol>
</div>

</div>

<div id="outline-container-4.2" class="outline-3">
<h3 id="sec-4.2"><span class="section-number-3">4.2</span> A Programmer's Editor </h3>
<div class="outline-text-3" id="text-4.2">

<ol>
<li>
regex find/capture/replace
</li>
<li>
aware of syntax
<ol>
<li>
comments
</li>
<li>
"special things": paren, bracket, braces
</li>
<li>
if-fi, do-od, &hellip;

</li>
</ol>
</li>
</ol>
</div>

</div>

<div id="outline-container-4.3" class="outline-3">
<h3 id="sec-4.3"><span class="section-number-3">4.3</span> Text Editor Passive Entitites </h3>
<div class="outline-text-3" id="text-4.3">


</div>

<div id="outline-container-4.3.1" class="outline-4">
<h4 id="sec-4.3.1"><span class="section-number-4">4.3.1</span> Files </h4>
<div class="outline-text-4" id="text-4.3.1">

<ol>
<li>
File Name
</li>
<li>
File Content
<ol>
<li>
Lines of Text
</li>
<li>
Meta data?
</li>
</ol>
</li>
<li>
Text encoding
</li>
<li>
EOLN, EOF
</li>
<li>
All the above well understood &hellip; so sweep it under the &hellip;

</li>
</ol>
</div>

</div>

<div id="outline-container-4.3.2" class="outline-4">
<h4 id="sec-4.3.2"><span class="section-number-4">4.3.2</span> Edit Buffers </h4>
<div class="outline-text-4" id="text-4.3.2">

<ol>
<li>
An internal data str; holds (file) content
</li>
<li>
Associated with a file? Always?
</li>
<li>
Numerous designs are possible 
<ol>
<li>
A Linked List of Lines
</li>
<li>
A chunk of dynamically allocated area of memory, viewed as
left-part, gap, right-part.  Content == left-part + right-part.
</li>
</ol>
</li>
<li>
How to choose?

</li>
</ol>
</div>

</div>

<div id="outline-container-4.3.3" class="outline-4">
<h4 id="sec-4.3.3"><span class="section-number-4">4.3.3</span> Clip Registers </h4>
<div class="outline-text-4" id="text-4.3.3">

<ol>
<li>
"Emacs registers are compartments â€¦"
</li>
<li>
Different from Buffer?
</li>
</ol>
</div>

</div>

<div id="outline-container-4.3.4" class="outline-4">
<h4 id="sec-4.3.4"><span class="section-number-4">4.3.4</span> View </h4>
<div class="outline-text-4" id="text-4.3.4">

<ol>
<li>
2-D "scroll" of text content â€“ mostly hidden
</li>
<li>
visible: R lines, C columns
</li>
<li>
appearance: fonts, cursors, &hellip;

</li>
</ol>
</div>

</div>

<div id="outline-container-4.3.5" class="outline-4">
<h4 id="sec-4.3.5"><span class="section-number-4">4.3.5</span> Markers </h4>
<div class="outline-text-4" id="text-4.3.5">

<ol>
<li>
Traditional: Dot and Mark; Generalized: Book marks
</li>
<li>
(x, y) coord address within text-content that should remain
"stable" even after insert/deletes
</li>
<li>
Perhaps number all lines or paragraphs. Cf. a legal document.

</li>
</ol>
</div>
</div>

</div>

<div id="outline-container-4.4" class="outline-3">
<h3 id="sec-4.4"><span class="section-number-3">4.4</span> Folding </h3>
<div class="outline-text-3" id="text-4.4">

<ol>
<li>
A tree structure view of content

</li>
</ol>
</div>

</div>

<div id="outline-container-4.5" class="outline-3">
<h3 id="sec-4.5"><span class="section-number-3">4.5</span> Plugins </h3>
<div class="outline-text-3" id="text-4.5">


<ol>
<li>
What is a plugin?
</li>
<li>
What does a new plugin "deliver"?
</li>
<li>
A "bad" plugin can crash the parent
</li>
<li>
pre- post- invariants?

</li>
</ol>
</div>

</div>

<div id="outline-container-4.6" class="outline-3">
<h3 id="sec-4.6"><span class="section-number-3">4.6</span> Text Ed Operations </h3>
<div class="outline-text-3" id="text-4.6">

<ol>
<li>
Ops on Files, Buffers, Registers, Markers, â€¦
</li>
<li>
Semantics of Undo/Redo
</li>
<li>
Feasibility of some "Undo"

</li>
</ol>
</div>

</div>

<div id="outline-container-4.7" class="outline-3">
<h3 id="sec-4.7"><span class="section-number-3">4.7</span> Programmer's Editor Passive Entitites? </h3>
<div class="outline-text-3" id="text-4.7">



</div>

</div>

<div id="outline-container-4.8" class="outline-3">
<h3 id="sec-4.8"><span class="section-number-3">4.8</span> Engine v UI-binding ("Key" Bindings) </h3>
<div class="outline-text-3" id="text-4.8">

<ol>
<li>
Software Architecture
</li>
<li>
Engine == Collection of all "operations"
1. UI-In == How an op of the engine is invoked
</li>
<li>
UI-Out == How the state of the engine is "shown"
</li>
<li>
A Goal: Do the UI both interactively and non-interactively
</li>
<li>
Study Emacs binding mechanism

</li>
</ol>
</div>

</div>

<div id="outline-container-4.9" class="outline-3">
<h3 id="sec-4.9"><span class="section-number-3">4.9</span> Help </h3>
<div class="outline-text-3" id="text-4.9">

<ol>
<li>
Browse pre-existing pages
</li>
<li>
Context-sensitive
</li>
<li>
"Correction" suggestions

</li>
</ol>
</div>

</div>

<div id="outline-container-4.10" class="outline-3">
<h3 id="sec-4.10"><span class="section-number-3">4.10</span> Syntax Awareness </h3>
<div class="outline-text-3" id="text-4.10">

<ol>
<li>
Highlighting
</li>
<li>
Comments
</li>
<li>
Matching "corresponding entries"
<ol>
<li>
paren, bracket, brace matching
</li>
<li>
if-fi, do-od, &hellip;

</li>
</ol>
</li>
</ol>
</div>

</div>

<div id="outline-container-4.11" class="outline-3">
<h3 id="sec-4.11"><span class="section-number-3">4.11</span> Features that we get as a result of using certain API </h3>
<div class="outline-text-3" id="text-4.11">

<ol>
<li>
window resize, move, &hellip;;
</li>
<li>
Is printing done by jEdit or a Java "service"?

</li>
</ol>
</div>
</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Design Document </h2>
<div class="outline-text-2" id="text-5">

<ol>
<li>
See prev lecture notes.  E.g., 2013-02-12
</li>
<li>
Include discussion supporting the goals: Correctness, Elegance, Efficiency
</li>
<li>
Design by contract assertions for major classes
</li>
<li>
Highly preferred: VHLL "code" 
<ol>
<li>
The pseudo VHLL code should be good enough for a sophomore to
code it in Java without any interaction with you.
</li>
</ol>
</li>
<li>
Extrapolate from our examples
<ol>
<li>
Pretty Printing of Pascal
</li>
<li>
Condense The List of Num Ranges
</li>
<li>
Tabulate Equations


</li>
</ol>
</li>
</ol>
</div>

</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Tech Report "Format" </h2>
<div class="outline-text-2" id="text-6">

<ol>
<li>
By now you have read a number of peer-reviewed academic papers.
Follow their style; e.g., follow JML fmdoc.pdf.  Technical Reports are
more generous with page layouts, and such.
</li>
<li>
Cover Page
</li>
<li>
Abstract
</li>
<li>
All pages, except cover page, are numbered
</li>
<li>
Table of Contents (TOC)
</li>
<li>
Sections: Sections must be numbered also; 
Typical: Three levels; too many: &gt; 5
</li>
<li>
First Section == "Introduction"
1. Last Section == "Conclusion"
</li>
<li>
Unnumbered "References" Section; 
Cite them. See Chicago Manual of Style.

</li>
</ol>
</div>

</div>

<div id="outline-container-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Misc </h2>
<div class="outline-text-2" id="text-7">

<ol>
<li>
A Spec Doc overlaps with Req Doc
</li>
<li>
Spec Doc should cite the Req Doc
</li>
<li>
But Spec Doc should be self-contained.
</li>
<li>
Motivational paragraphs are relevent in Req Docs.
</li>
<li>
Not in Spec Docs.
</li>
<li>
Remember the cliche:  The "what" is the spec, the "how" is the design.
</li>
<li>
Design Doc should cite the Req and Spec Docs

</li>
</ol>
</div>

</div>

<div id="outline-container-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> Specific to CS7140 jEdit Project </h2>
<div class="outline-text-2" id="text-8">


</div>

<div id="outline-container-8.1" class="outline-3">
<h3 id="sec-8.1"><span class="section-number-3">8.1</span> Some Details </h3>
<div class="outline-text-3" id="text-8.1">

<ol>
<li>
When compiled with the same javac, the sum of .class file size,
ignoring all meta content, should be 5% smaller.  How does your design
address this?
</li>
<li>
Bug: to be discussed; Not part of this Design Doc
</li>
<li>
Design changes revamping the GUI
</li>
<li>
Silence: Say what is or is not doable.

</li>
</ol>
</div>

</div>

<div id="outline-container-8.2" class="outline-3">
<h3 id="sec-8.2"><span class="section-number-3">8.2</span> New Plugin Suggestions </h3>
<div class="outline-text-3" id="text-8.2">


</div>

<div id="outline-container-8.2.1" class="outline-4">
<h4 id="sec-8.2.1"><span class="section-number-4">8.2.1</span> Formal Methods Reminders </h4>
<div class="outline-text-4" id="text-8.2.1">

<ol>
<li>
hey insert pre- post-
</li>
<li>
loop invariants
</li>
<li>
Native Java assert v JML

</li>
</ol>
</div>

</div>

<div id="outline-container-8.2.2" class="outline-4">
<h4 id="sec-8.2.2"><span class="section-number-4">8.2.2</span> C++ to Java conversion </h4>
<div class="outline-text-4" id="text-8.2.2">


</div>

</div>

<div id="outline-container-8.2.3" class="outline-4">
<h4 id="sec-8.2.3"><span class="section-number-4">8.2.3</span> Java to C++ conversion </h4>
<div class="outline-text-4" id="text-8.2.3">


</div>
</div>
</div>
</div>
<div id="postamble">
<p class="author"> Author: Prabhaker Mateti
<a href="mailto:pmateti@wright.edu">&lt;pmateti@wright.edu&gt;</a>
</p>
</div>
</div>
</body>
</html>
