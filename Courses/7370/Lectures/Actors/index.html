<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-04-07 Tue 13:06 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DIC Hewitt's Actors</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Prabhaker Mateti" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style> P,li {text-align: justify} code {color: brown;} @media screen {BODY {margin: 10%} }</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="../"> UP </a>
 |
 <a accesskey="H" href="../../Top/index.html"> HOME </a>
</div><div id="preamble" class="status">
<a href="../../"> ../../</a>
</div>
<div id="content">
<h1 class="title">DIC Hewitt's Actors</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org6130787">1. Actors Overview</a>
<ul>
<li><a href="#org635fa1d">1.1. Actors Overview #2</a></li>
</ul>
</li>
<li><a href="#org9ab0771">2. Actor Standard Model</a>
<ul>
<li><a href="#org44f2a96">2.1. Actor Standard Model-1: Structure</a></li>
<li><a href="#orgcac2b71">2.2. Actor Standard Model-2: Mailbox</a></li>
<li><a href="#org2bff2be">2.3. Actor Standard Model-3: Computation</a></li>
<li><a href="#org3f926d6">2.4. Actor Standard Model-4: Processing a Message</a></li>
</ul>
</li>
<li><a href="#org1e1c303">3. Actor Standard Model: A Tiny Example</a>
<ul>
<li><a href="#org4391b63">3.1. Actor Example: An Integer Variable</a></li>
<li><a href="#org53df9fb">3.2. Actor Example, contd</a></li>
</ul>
</li>
<li><a href="#orgbf0a259">4. Actor Standard Model - More Details</a>
<ul>
<li><a href="#org6561f14">4.1. Actors' Names</a></li>
<li><a href="#orgab0b5ab">4.2. Encapsulation</a></li>
<li><a href="#orgd2a96bf">4.3. Fair Scheduling</a></li>
<li><a href="#org3b0d387">4.4. Location Transparency</a></li>
<li><a href="#orgeab6911">4.5. Mobility</a></li>
<li><a href="#org8b7e678">4.6. <code>Become</code></a></li>
</ul>
</li>
<li><a href="#orge9a2aae">5. Actor Example: A Set</a></li>
<li><a href="#org5048d8a">6. Actor Example: A Stack</a>
<ul>
<li><a href="#org579b436">6.1. A Stack, contd-1</a></li>
<li><a href="#orgd2d8e27">6.2. A Stack, contd-2</a></li>
<li><a href="#orgc0d97f6">6.3. A Stack, contd-3</a></li>
</ul>
</li>
<li><a href="#org9d9bd9d">7. Actor Example: A Recursive Factorial</a></li>
<li><a href="#orge2bc5b6">8. Actor Systems</a></li>
<li><a href="#orgc4c5a39">9. Discussion</a>
<ul>
<li><a href="#org48c71e2">9.1. Actors Long Term Objective</a></li>
</ul>
</li>
<li><a href="#org2e16b12">10. Implementations</a>
<ul>
<li><a href="#org904a00d">10.1. Encapsulation Violation</a></li>
<li><a href="#org38a0090">10.2. Starvation</a></li>
</ul>
</li>
<li><a href="#orga205c8c">11. References</a></li>
<li><a href="#orgd162eea">12. End</a></li>
</ul>
</div>
</div>

<div id="outline-container-org6130787" class="outline-2">
<h2 id="org6130787"><span class="section-number-2">1</span> Actors Overview</h2>
<div class="outline-text-2" id="text-1">
<ol class="org-ol">
<li>Actors were introduced by Carl Hewitt (MIT) and co-researchers in the 1970s.</li>

<li>Actors are now part of many programming languages: C++/Act++, Java, Erlang,
Scala, Scheme, Clojure, <a href="http://iolanguage.org/">Io</a>, Ruby; in Reia, all objects are actors.</li>

<li>The semantics of "actors" in these PL are <b>not</b> the same.</li>

<li>By "standard" model we are referring to the description given
by Hewitt and his co-researchers.</li>
</ol>
</div>

<div id="outline-container-org635fa1d" class="outline-3">
<h3 id="org635fa1d"><span class="section-number-3">1.1</span> Actors Overview #2</h3>
<div class="outline-text-3" id="text-1-1">
<ol class="org-ol">
<li>An Actor is a computational entity that, in response to a message
it receives, can:

<ol class="org-ol">
<li>send messages to addresses of Actors that it has;</li>
<li>create new Actors;</li>
<li>designate how to handle the next message it receives.</li>
</ol></li>

<li>There is no assumed order to the above actions and they could be
carried out concurrently.  In addition, two messages sent
concurrently can be received in either order.</li>

<li>from <a href="http://arxiv.org/abs/1008.1459">Parallelism and Concurrency in the Actor Model</a></li>
</ol>
</div>
</div>
</div>


<div id="outline-container-org9ab0771" class="outline-2">
<h2 id="org9ab0771"><span class="section-number-2">2</span> Actor Standard Model</h2>
<div class="outline-text-2" id="text-2">
<ol class="org-ol">
<li><img src="./fig-actors.png" alt="fig-actors.png" /> [from Carlos Varela's PhD 2001 <a href="http://osl.cs.illinois.edu/docs/phd-varela01/varela-phd.pdf">http://osl.cs.illinois.edu/docs/phd-varela01/varela-phd.pdf</a>]</li>
</ol>
</div>

<div id="outline-container-org44f2a96" class="outline-3">
<h3 id="org44f2a96"><span class="section-number-3">2.1</span> Actor Standard Model-1: Structure</h3>
<div class="outline-text-3" id="text-2-1">
<ol class="org-ol">
<li>Think of <b>actors</b> as [tiny] independent processes/threads.  May be:
think of an actor as a person.  (Disassociate "thread" with Java or
Linux threads.)

<ol class="org-ol">
<li>Every actor is assigned a unique name/ address.  [Similar to pid, but
abstract.]</li>
<li>An actor knows the names of <b>some</b> of the actors.</li>
<li>An actor does not contain other actors.</li>
</ol></li>

<li>Each actor has its own (local/private) state.

<ol class="org-ol">
<li>Its own address space.</li>
<li>Includes a pool (queue? bag?) of messages: <b>mailbox</b>.</li>
<li>There is no shared memory/state among actors.</li>
</ol></li>

<li>No global clock.</li>
</ol>
</div>
</div>

<div id="outline-container-orgcac2b71" class="outline-3">
<h3 id="orgcac2b71"><span class="section-number-3">2.2</span> Actor Standard Model-2: Mailbox</h3>
<div class="outline-text-3" id="text-2-2">
<ol class="org-ol">
<li>Idealized mailbox.  Can be empty.  Never becomes "full".  Do not
think: Unix-like mailboxes.</li>

<li><code>actorName ! msg</code> Sender never blocks.  No handshake. (Overloading
of CSP notation.)</li>

<li>Sent messages are never lost.</li>

<li>Received messages are "processed", one at a time. The processed msg
is no longer in the mailbox.</li>

<li>When the mailbox is empty, the actor is idle.</li>

<li>Messages may not arrive in the order sent.  Even though A sent to
B, m1 first, and m2 second, B may receive m2 first, and m1 second.</li>

<li>Spurious messages do not happen.</li>
</ol>
</div>
</div>

<div id="outline-container-org2bff2be" class="outline-3">
<h3 id="org2bff2be"><span class="section-number-3">2.3</span> Actor Standard Model-3: Computation</h3>
<div class="outline-text-3" id="text-2-3">
<ol class="org-ol">
<li><b>Reactive</b>: Actor computation is performed as a reaction to
messages.  Other than initialization.</li>

<li>Single thread.  An individual actor is sequential.  A collection of
actors is concurrent.</li>

<li>Each actor has its own methods. <b>Once-only</b> assignment; recursion;
if-exp; no loops;</li>

<li>An actor can create others.  It can retain the name/address
of the newly created actor.</li>

<li>After a msg is processed, the actor A can <b>become</b> a different actor B.</li>

<li>The messages remaining will be processed by B.</li>
</ol>
</div>
</div>

<div id="outline-container-org3f926d6" class="outline-3">
<h3 id="org3f926d6"><span class="section-number-3">2.4</span> Actor Standard Model-4: Processing a Message</h3>
<div class="outline-text-3" id="text-2-4">
<ol class="org-ol">
<li>Send asynchronous messages. [Send is never blocking.]</li>
<li>Restricted to actors whose addresses it has.</li>
<li>Can send the address as (part of) a message.</li>
<li>Can send messages to self.</li>
<li>Sender and receiver can agree on the structure of content. (I.e.,
marshalling is implicit.)</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org1e1c303" class="outline-2">
<h2 id="org1e1c303"><span class="section-number-2">3</span> Actor Standard Model: A Tiny Example</h2>
<div class="outline-text-2" id="text-3">
<ol class="org-ol">
<li>We will use a quickly-made-up language to illustrate.</li>

<li>Do not imagine an obvious implementation in C++, Java or Scala.
Implementation techniques of actors are now so advanced that Akka
claims to be able to create millions of actors in a second.</li>
</ol>
</div>

<div id="outline-container-org4391b63" class="outline-3">
<h3 id="org4391b63"><span class="section-number-3">3.1</span> Actor Example: An Integer Variable</h3>
<div class="outline-text-3" id="text-3-1">
<ol class="org-ol">
<li><p>
Let us build an actor that behaves like a "var" of type integer.
</p>

<div class="org-src-container">
<pre class="src src-pseudo">intvar: actor(z: integer) {
  val myx := z
  receive msg {
    case msg.op == set(x): // see below
    case msg.op == get() : msg.sender ! myx
}  }

var a: actor = create intvar(5)
</pre>
</div></li>

<li>Repeated assignments are not permissible.  Use <code>become</code></li>
</ol>
</div>
</div>

<div id="outline-container-org53df9fb" class="outline-3">
<h3 id="org53df9fb"><span class="section-number-3">3.2</span> Actor Example, contd</h3>
<div class="outline-text-3" id="text-3-2">
<ol class="org-ol">
<li><p>
Repeated assignments are not permissible.  Use <code>become</code>
</p>
<div class="org-src-container">
<pre class="src src-pseudo">intvar: actor(z: integer) {
  val myx := z
  receive msg {
    case msg.op == set(x): become create intvar(x)
    case msg.op == get() : msg.sender ! myx
  }
}

var a := create intvar(5)
var i := a ! get()    // i == 5
a ! set(34)           // does not return any value
var j = a ! get()     // j == 34
</pre>
</div></li>

<li>Even after a <code>become</code>, the actor <code>a</code> is still available as the same
target for send.</li>

<li>The actor <code>a</code> knows of no other actors.  We can mod the above to
collect <code>msg.sender</code> as it receives messages.</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orgbf0a259" class="outline-2">
<h2 id="orgbf0a259"><span class="section-number-2">4</span> Actor Standard Model - More Details</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org6561f14" class="outline-3">
<h3 id="org6561f14"><span class="section-number-3">4.1</span> Actors' Names</h3>
<div class="outline-text-3" id="text-4-1">
<ol class="org-ol">
<li>Each actor is given a unique immutable name ["address"].</li>

<li>This name cannot be computed/guessed.</li>

<li>An actor can have the name of another at build time.</li>

<li>An actor can store the names of actors that it creates, or receives.</li>

<li>A name may be sent as part of a msg.</li>
</ol>
</div>
</div>

<div id="outline-container-orgab0b5ab" class="outline-3">
<h3 id="orgab0b5ab"><span class="section-number-3">4.2</span> Encapsulation</h3>
<div class="outline-text-3" id="text-4-2">
<ol class="org-ol">
<li>Encapsulation as used in OOP.</li>

<li>An actor has no mechanism to share its state with other actors
[other than messaging]</li>

<li>An actor cannot access, in its own run-time stack, the internal
state of another actor.</li>

<li>The state of an actor is changeable only through the actors own
actions.</li>

<li>Safe Messaging: Messages should have call-by-value semantics.
After delivery, the message is only in the address space of the
receiver-actor.</li>
</ol>
</div>
</div>


<div id="outline-container-orgd2a96bf" class="outline-3">
<h3 id="orgd2a96bf"><span class="section-number-3">4.3</span> Fair Scheduling</h3>
<div class="outline-text-3" id="text-4-3">
<ol class="org-ol">
<li>Weak fairness.  Recall its def in <a href="../FormalMethods/temporal-logic.html">temporal logic</a>.</li>

<li>Every actor is eventually scheduled to do its computation.</li>

<li>So, even in the presence of actors running an "infinite loop" or
blocked on an I/O or system call, other actors are not starved.</li>

<li>Every message sent is eventually delivered to its intended mailbox
(unless its actor is permanently "disabled").</li>

<li>These requirements may make the implementation expensive.</li>
</ol>
</div>
</div>


<div id="outline-container-org3b0d387" class="outline-3">
<h3 id="org3b0d387"><span class="section-number-3">4.4</span> Location Transparency</h3>
<div class="outline-text-3" id="text-4-4">
<ol class="org-ol">
<li>An actor's address is not based on its location.</li>

<li>The actors an actor knows could be on the same core, on the same
CPU, or on a different node in a network.</li>

<li>A consequence of location transparency is state encapsulation.</li>

<li>Location transparent naming facilitates migration of actors to
different nodes.</li>
</ol>
</div>
</div>

<div id="outline-container-orgeab6911" class="outline-3">
<h3 id="orgeab6911"><span class="section-number-3">4.5</span> Mobility</h3>
<div class="outline-text-3" id="text-4-5">
<ol class="org-ol">
<li>Mobility: A computation can move across different nodes.</li>

<li>Strong mobility = Movement of both code and execution state.</li>

<li>Weak mobility = Movement of code only.</li>

<li>Transparent Migration.</li>

<li>Migration enables load-balancing and fault-tolerance.</li>
</ol>
</div>
</div>


<div id="outline-container-org8b7e678" class="outline-3">
<h3 id="org8b7e678"><span class="section-number-3">4.6</span> <code>Become</code></h3>
<div class="outline-text-3" id="text-4-6">
<ol class="org-ol">
<li>Behavior is replaced after one msg is processed.</li>

<li>Essentially another actor's behavior substitutes.</li>

<li>Adress remains the same.</li>

<li>No <code>become</code> =&gt; the behavior remains as-was.</li>
</ol>
</div>
</div>
</div>


<div id="outline-container-orge9a2aae" class="outline-2">
<h2 id="orge9a2aae"><span class="section-number-2">5</span> Actor Example: A Set</h2>
<div class="outline-text-2" id="text-5">
<ol class="org-ol">
<li>In CSP, we did a small set of integers.  Not only "small" but
statically fixed sized set.  Why?  Because all processes need to be
defined at "compile"-time.</li>

<li>We can build an actor system for a finite, but arbitrarily large, set of
integers.</li>

<li>Outline: Messages handled: <code>has(x)</code>, <code>insert(x)</code>.  No <code>delete(x)</code>.
Each actor holds one integer.  Actors form conceptually a linked
list.  Initially, construct the receptionist actor empty handed.
On <code>insert(x)</code> this <code>become</code> s one holding <code>x</code>.  Inserts a new
empty handed actor as next.</li>

<li>Details.  Your Exercise!  (See the next example.)</li>
</ol>
</div>
</div>

<div id="outline-container-org5048d8a" class="outline-2">
<h2 id="org5048d8a"><span class="section-number-2">6</span> Actor Example: A Stack</h2>
<div class="outline-text-2" id="text-6">
<ol class="org-ol">
<li>Build a system of actors that behaves as a stack of integers.  From
an external entity, the "lead" actor receives request-to-do
messages: <code>push(x), pop, top, isEmpty</code>.  Reply to the last three
requests.  Assume valid requests.</li>

<li>Architecture:  Each actor holds one element of the stack.  It also
has a reference to the next actor of the stack.  If this ref is
NIL, this is the last actor of the stack.</li>
</ol>
</div>

<div id="outline-container-org579b436" class="outline-3">
<h3 id="org579b436"><span class="section-number-3">6.1</span> A Stack, contd-1</h3>
<div class="outline-text-3" id="text-6-1">
<ol class="org-ol">
<li><p>
We show only push and pop implemented.  Read stknd as stack node.
</p>

<div class="org-src-container">
<pre class="src src-pseudo">stknd: 
  actor(elm: actor, lnk: actor) {
    receive msg {
      case msg.op == pop():
        if (elm != NIL) {
          become lnk
          msg.sender ! elm
        }
      case msg.op == push(X):
        P := create stknd(elm,lnk)
        Q := create itemvar(X)
        become create stknd(Q, P)
    }
}
</pre>
</div></li>
</ol>
</div>
</div>

<div id="outline-container-orgd2d8e27" class="outline-3">
<h3 id="orgd2d8e27"><span class="section-number-3">6.2</span> A Stack, contd-2</h3>
<div class="outline-text-3" id="text-6-2">
<ol class="org-ol">
<li>The top of the stack is the receptionist in this actor system.</li>

<li>It was the only actor of the system created externally.  It is
created with a NIL elm, and NIL lnk.</li>

<li><p>
A pop operation changes the stack as follows:
</p>

<div class="org-src-container">
<pre class="src src-pseudo">     -------      -------      ----------
---&gt;| 3 | --|---&gt;| 4 | --|---&gt;| NIL| NIL |
    --------      -------      ----------

     ----------     -------      ---------
---&gt;|forwarder|---&gt;| 4 | --|---&gt;| NIL | NIL|
     ----------     -------      ---------
</pre>
</div></li>

<li>"Forwarder" is a special node that simply forwards messages.</li>
</ol>
</div>
</div>

<div id="outline-container-orgc0d97f6" class="outline-3">
<h3 id="orgc0d97f6"><span class="section-number-3">6.3</span> A Stack, contd-3</h3>
<div class="outline-text-3" id="text-6-3">
<ol class="org-ol">
<li>Discussion: A stack is not a "good match" for distributed computing
&#x2013; any model.  If concurrent processes push and pop from the same
stack, there are no guarantees about the order of content received
back from pops.</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org9d9bd9d" class="outline-2">
<h2 id="org9d9bd9d"><span class="section-number-2">7</span> Actor Example: A Recursive Factorial</h2>
<div class="outline-text-2" id="text-7">
<div class="org-src-container">
<pre class="src src-pseudo">factorial: actor() {
  receive msg {
    case msg.op == fac(n, a):
      if (n == 0) a ! nat(1)
      else {
        F := create aux(n, a)
        self ! fac(n - 1, F)
} }   }

aux: actor(n: nat, r: actor) {
  receive msg {
    case msg.op == nat(k): r ! n * k
} }
</pre>
</div>
</div>
</div>

<div id="outline-container-orge2bc5b6" class="outline-2">
<h2 id="orge2bc5b6"><span class="section-number-2">8</span> Actor Systems</h2>
<div class="outline-text-2" id="text-8">
<ol class="org-ol">
<li>A finite set of actors and a finite set of pending messages.</li>

<li>Receptionists: Actors that may receive messages from (external)
actors.</li>

<li>External Actors that may be sent (output) messages.</li>

<li>An external actor simply holds all communications sent to it until
the system is composed with another that contains the actor in
question.</li>

<li>External actors must respond to a communication telling it to
forward all its mail to the connected actor.</li>
</ol>
</div>
</div>

<div id="outline-container-orgc4c5a39" class="outline-2">
<h2 id="orgc4c5a39"><span class="section-number-2">9</span> Discussion</h2>
<div class="outline-text-2" id="text-9">
<ol class="org-ol">
<li>A collection of classic processes with no shared variables
whatsoever can be considered to be based on actor model.  The
conversion to standard actor model is non-trivial only because we
must eliminate loops and var-assignments.</li>

<li>Topology.  Who can send to who?  Dynamic in Actors.  Fixed in CSP.</li>

<li>"Channels" specify the type of messages that can be accepted.  The
mailbox of an actor is a channel that accepts any type of message.
Messages that are not matched by any of the case clauses will
remain in the mailbox, rather than causing an error.</li>
</ol>
</div>

<div id="outline-container-org48c71e2" class="outline-3">
<h3 id="org48c71e2"><span class="section-number-3">9.1</span> Actors Long Term Objective</h3>
<div class="outline-text-3" id="text-9-1">
<ol class="org-ol">
<li>"The Actor Model is intended to provide a foundation for
inconsistency robust information integration."

<ol class="org-ol">
<li>We should expect large scale gathering of info to be
inconsistent.</li>

<li>Robustness in the presence of inconsistency.</li>
</ol></li>

<li>"Persistence. Information is collected and indexed."</li>

<li>"Concurrency: Work proceeds interactively and concurrently,
overlapping in time."</li>

<li>"Quasi-commutativity: Information can be used regardless of whether
it initiates new work or become relevant to ongoing work."</li>

<li>"Sponsorship: Sponsors provide resources for computation, i.e.,
processing, storage, and communications."</li>

<li>"Pluralism: Information is heterogeneous, overlapping and often
inconsistent. There is no central arbiter of truth."</li>

<li>"Provenance: The provenance of information is carefully tracked and
recorded."</li>
</ol>

<p>
&#x2013; Carl Hewitt
</p>
</div>
</div>
</div>

<div id="outline-container-org2e16b12" class="outline-2">
<h2 id="org2e16b12"><span class="section-number-2">10</span> Implementations</h2>
<div class="outline-text-2" id="text-10">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">SALSA</td>
<td class="org-left">Scala</td>
<td class="org-left">Kilim</td>
<td class="org-left">AArch</td>
<td class="org-left">JavAct</td>
<td class="org-left">Foundry</td>
<td class="org-left">JetL</td>
</tr>

<tr>
<td class="org-left">State Encap</td>
<td class="org-left">Yes</td>
<td class="org-left">No</td>
<td class="org-left">No</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
</tr>

<tr>
<td class="org-left">Safe Message</td>
<td class="org-left">Yes</td>
<td class="org-left">No</td>
<td class="org-left">No</td>
<td class="org-left">Yes</td>
<td class="org-left">No</td>
<td class="org-left">Yes</td>
<td class="org-left">No</td>
</tr>

<tr>
<td class="org-left">Fair Sched</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">No</td>
<td class="org-left">Yes</td>
<td class="org-left">No</td>
<td class="org-left">Yes</td>
<td class="org-left">No</td>
</tr>

<tr>
<td class="org-left">Loc Transpar</td>
<td class="org-left">Yes</td>
<td class="org-left">No</td>
<td class="org-left">No</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
</tr>

<tr>
<td class="org-left">Mobility</td>
<td class="org-left">Yes</td>
<td class="org-left">No</td>
<td class="org-left">No</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">Yes</td>
<td class="org-left">No</td>
</tr>

<tr>
<td class="org-left">version#</td>
<td class="org-left">1.1.2</td>
<td class="org-left">2.7.3</td>
<td class="org-left">0.6</td>
<td class="org-left">0.1.3</td>
<td class="org-left">1.5.3</td>
<td class="org-left">1.0</td>
<td class="org-left">0.1.7</td>
</tr>
</tbody>
</table>

<p>
As of 2009.  The names of the top row &#x2013; except for Scala, where are
the rest??
</p>
</div>


<div id="outline-container-org904a00d" class="outline-3">
<h3 id="org904a00d"><span class="section-number-3">10.1</span> Encapsulation Violation</h3>
<div class="outline-text-3" id="text-10-1">
<p>
A program written in the Scala Actors (!= Akka Actors) shows violation of state
encapsulation which may cause two actors to simultaneously execute the
critical section.
</p>

<div class="org-src-container">
<pre class="src src-scala">object semaphorenotok {
  class SemaphoreActor() extends Actor {
    ...
    def enter() {
      if (num &lt; MAX) {
        // critical section
        num = num + 1
    } }
  }

  def main(args: Array[String]): Unit = {
    var gate = new SemaphoreActor()
    gate.start
    gate ! "enter"
    gate.enter
  }
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org38a0090" class="outline-3">
<h3 id="org38a0090"><span class="section-number-3">10.2</span> Starvation</h3>
<div class="outline-text-3" id="text-10-2">
<p>
A program written in the Scala Actors showing an Actor "busy-waiting"
for a reply.  In the absence of fair scheduling, such an actor can
potentially starve other actors.
</p>

<div class="org-src-container">
<pre class="src src-scala">object fairness {
  class FairActor() extends Actor {
  ...
  def act() { loop { react {
    case (v : int) =&gt; {
      data = v }
    case ("wait") =&gt; {
      // busy-waiting section
      if (data &gt; 0) println(data)
      else self ! "wait" }
    case ("start") =&gt; {
      calc ! ("add", 4, 5)
      self ! "wait" }}}
  }}}
</pre>
</div>
</div>
</div>
</div>



<div id="outline-container-orga205c8c" class="outline-2">
<h2 id="orga205c8c"><span class="section-number-2">11</span> References</h2>
<div class="outline-text-2" id="text-11">
<ol class="org-ol">
<li>Carl Hewitt, "Actor Model of Computation: Scalable Robust
Information Systems," 2015.  A very deep conceptual paper.
<a href="https://arxiv.org/abs/1008.1459">https://arxiv.org/abs/1008.1459</a> (also <a href="http://carlhewitt.info)">http://carlhewitt.info)</a>.
Highly Recommended Reading</li>

<li>Rajesh K. Karmani, Gul Agha, "Actors." In <i>Encyclopedia of Parallel
Computing</i>, pp. 1-11. Springer US, 2011.  Web search for its pdf.
Required Reading</li>

<li><a href="http://en.wikipedia.org/wiki/Actor_model">http://en.wikipedia.org/wiki/Actor_model</a>  Recommended Reading</li>

<li><a href="https://www.brianstorti.com/the-actor-model/">https://www.brianstorti.com/the-actor-model/</a> The actor model in 10
minutes, 2015.  Recommended Reading</li>

<li>Carlos Varela, Distributed Computing over the Internet, Rensselaer
Polytechnic Institute, CSCI.6500/CSCI.4500, Spring 2019
<a href="https://www.cs.rpi.edu/academics/courses/spring19/dci/">https://www.cs.rpi.edu/academics/courses/spring19/dci/</a> Recommended
Visits + Reading</li>
</ol>
</div>
</div>

<div id="outline-container-orgd162eea" class="outline-2">
<h2 id="orgd162eea"><span class="section-number-2">12</span> End</h2>
<div class="outline-text-2" id="text-12">
</div>
</div>
</div>
<div id="postamble" class="status">
<hr size=1>Copyright &copy; 2020 <a href="http://www.wright.edu/~pmateti">www.wright.edu/~pmateti</a> &bull; 2020-01-31
</div>
</body>
</html>
